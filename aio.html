<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en" data-bs-theme="auto">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Eksplorativ Data analysis with R: All in One View</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<script src="assets/themetoggle.js"></script><link rel="stylesheet" type="text/css" href="assets/styles.css">
<script src="assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="favicons/lc/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicons/lc/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="favicons/lc/favicon-16x16.png">
<link rel="manifest" href="favicons/lc/site.webmanifest">
<link rel="mask-icon" href="favicons/lc/safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="white">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="black">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md top-nav library"><svg xmlns="http://www.w3.org/2000/svg" class="d-none"><symbol id="check2" viewbox="0 0 16 16"><path d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"></path></symbol><symbol id="circle-half" viewbox="0 0 16 16"><path d="M8 15A7 7 0 1 0 8 1v14zm0 1A8 8 0 1 1 8 0a8 8 0 0 1 0 16z"></path></symbol><symbol id="moon-stars-fill" viewbox="0 0 16 16"><path d="M6 .278a.768.768 0 0 1 .08.858 7.208 7.208 0 0 0-.878 3.46c0 4.021 3.278 7.277 7.318 7.277.527 0 1.04-.055 1.533-.16a.787.787 0 0 1 .81.316.733.733 0 0 1-.031.893A8.349 8.349 0 0 1 8.344 16C3.734 16 0 12.286 0 7.71 0 4.266 2.114 1.312 5.124.06A.752.752 0 0 1 6 .278z"></path><path d="M10.794 3.148a.217.217 0 0 1 .412 0l.387 1.162c.173.518.579.924 1.097 1.097l1.162.387a.217.217 0 0 1 0 .412l-1.162.387a1.734 1.734 0 0 0-1.097 1.097l-.387 1.162a.217.217 0 0 1-.412 0l-.387-1.162A1.734 1.734 0 0 0 9.31 6.593l-1.162-.387a.217.217 0 0 1 0-.412l1.162-.387a1.734 1.734 0 0 0 1.097-1.097l.387-1.162zM13.863.099a.145.145 0 0 1 .274 0l.258.774c.115.346.386.617.732.732l.774.258a.145.145 0 0 1 0 .274l-.774.258a1.156 1.156 0 0 0-.732.732l-.258.774a.145.145 0 0 1-.274 0l-.258-.774a1.156 1.156 0 0 0-.732-.732l-.774-.258a.145.145 0 0 1 0-.274l.774-.258c.346-.115.617-.386.732-.732L13.863.1z"></path></symbol><symbol id="sun-fill" viewbox="0 0 16 16"><path d="M8 12a4 4 0 1 0 0-8 4 4 0 0 0 0 8zM8 0a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 0zm0 13a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-1 0v-2A.5.5 0 0 1 8 13zm8-5a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2a.5.5 0 0 1 .5.5zM3 8a.5.5 0 0 1-.5.5h-2a.5.5 0 0 1 0-1h2A.5.5 0 0 1 3 8zm10.657-5.657a.5.5 0 0 1 0 .707l-1.414 1.415a.5.5 0 1 1-.707-.708l1.414-1.414a.5.5 0 0 1 .707 0zm-9.193 9.193a.5.5 0 0 1 0 .707L3.05 13.657a.5.5 0 0 1-.707-.707l1.414-1.414a.5.5 0 0 1 .707 0zm9.193 2.121a.5.5 0 0 1-.707 0l-1.414-1.414a.5.5 0 0 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .707zM4.464 4.465a.5.5 0 0 1-.707 0L2.343 3.05a.5.5 0 1 1 .707-.707l1.414 1.414a.5.5 0 0 1 0 .708z"></path></symbol></svg><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-8">
      <div class="large-logo">
        <img id="lc-logo" alt="Library Carpentry" src="assets/images/library-logo.svg"><span class="badge text-bg-danger">
          <abbr title="This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.">
            <a href="https://docs.carpentries.org/resources/curriculum/lesson-life-cycle.html" class="external-link alert-link">
              <i aria-hidden="true" class="icon" data-feather="alert-octagon" style="border-radius: 5px"></i>
              Pre-Alpha
            </a>
            <span class="visually-hidden">This lesson is in the pre-alpha phase, which means that it is in early development, but has not yet been taught.</span>
          </abbr>
        </span>

      </div>
    </div>
    <div class="selector-container">
      <div id="theme-selector">
        <li class="nav-item dropdown" id="theme-button-list">
          <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
            <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="bd-theme-text">
<li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                Light
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                Dark
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
            <li>
              <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                Auto
                <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
            </li>
          </ul>
</li>
      </div>

      <div class="dropdown" id="instructor-dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Learner View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='instructor/aio.html';">Instructor View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl bottom-nav library" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Library Carpentry" src="assets/images/library-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Eksplorativ Data analysis with R
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="Search the All In One page" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Eksplorativ Data analysis with R
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="reference.html#glossary">Glossary</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="profiles.html">Learner Profiles</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="reference.html">Reference</a></li>
          </ul>
</li>
      </ul>
</div>
    <!--
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
      <input class="form-control me-2 searchbox" type="search" placeholder="" aria-label="">
        <button class="btn btn-outline-success tablet-search-button"  type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="Search the All In One page"></i>
        </button>
      </fieldset>
    </form>
    -->
    <a id="search-button" class="btn btn-primary" href="aio.html" role="button" aria-label="Search the All In One page">Search the All In One page</a>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Eksplorativ Data analysis with R
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress library">
    <div class="progress-bar library" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row" id="theme-row-mobile">
            <div class="col" id="theme-selector">
              <li class="nav-item dropdown" id="theme-button-list">
                <button class="btn btn-link nav-link px-0 px-lg-2 dropdown-toggle d-flex align-items-center" id="bd-theme" type="button" aria-expanded="false" data-bs-toggle="dropdown" data-bs-display="static" aria-label="Toggle theme (auto)">
                  <svg class="bi my-1 theme-icon-active"><use href="#circle-half"></use></svg><span class="d-lg-none ms-1" id="bd-theme-text">Toggle Theme</span>
                </button>
                <ul class="dropdown-menu dropdown-menu-right" aria-labelledby="bd-theme-text">
<li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="light" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#sun-fill"></use></svg>
                      Light
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center" data-bs-theme-value="dark" aria-pressed="false">
                      <svg class="bi me-2 theme-icon"><use href="#moon-stars-fill"></use></svg>
                      Dark
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                  <li>
                    <button type="button" class="btn dropdown-item d-flex align-items-center active" data-bs-theme-value="auto" aria-pressed="true">
                      <svg class="bi me-2 theme-icon"><use href="#circle-half"></use></svg>
                      Auto
                      <svg class="bi ms-auto d-none"><use href="#check2"></use></svg></button>
                  </li>
                </ul>
</li>
            </div>
          </div>
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Learner View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="instructor/aio.html">Instructor View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->

            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Setup</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="introduction.html">1. Before we Start</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="getting-to-know-data.html">2. Getting to know the data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="summary-statistics.html">3. Exploring with summary statistics</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="joins.html">4. Joining data</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="boxplots.html">5. Boxplots and linear regressions</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="whats-next.html">6. What is the next step?</a>
    </div>
<!--/div.accordion-header-->

  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush lesson-resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="lesson-resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="reference.html#glossary">Glossary</a>
                      </li>
                      <li>
                        <a href="profiles.html">Learner Profiles</a>
                      </li>
                      <li><a href="reference.html">Reference</a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width lesson-resources">
<a href="aio.html">See all in one page</a>


            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">

            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        
        
<section id="aio-introduction"><p>Content from <a href="introduction.html">Before we Start</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/introduction.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“What is EDA?”</li>
<li>“How to get ready to do data analysis?”</li>
<li>“How to get the data we are working with?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Make sure tidyverse is updated.”</li>
<li>“Make a new project.”</li>
<li>“Organize your folders.”</li>
<li>“Download the data.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-eda">What is EDA?<a class="anchor" aria-label="anchor" href="#what-is-eda"></a>
</h2>
<hr class="half-width">
<p>EDA stands for Exploratory Data Analysis. It is a process of
analyzing and summarizing a dataset in order to understand its main
characteristics, such as the distribution of variables, the presence of
outliers, and the relationship between different variables.</p>
<p>In R, EDA typically involves using a combination of visual and
quantitative methods to explore and summarize the data, such as creating
histograms, scatter plots, and summary statistics, which can be done
using a variety of R packages such as ggplot2 and dplyr.</p>
</section><section><h2 class="section-heading" id="getting-set-up">Getting set up<a class="anchor" aria-label="anchor" href="#getting-set-up"></a>
</h2>
<hr class="half-width">
<p>It is good practice to keep a set of related data, analyses, and text
self-contained in a single folder called the <strong>working
directory</strong>. All of the scripts within this folder can then use
<em>relative paths</em> to files. Relative paths indicate where inside
the project a file is located (as opposed to absolute paths, which point
to where a file is on a specific computer). Working this way makes it a
lot easier to move your project around on your computer and share it
with others without having to directly modify file paths in the
individual scripts.</p>
<p>RStudio provides a helpful set of tools to do this through its
“Projects” interface, which not only creates a working directory for you
but also remembers its location (allowing you to quickly navigate to
it). The interface also (optionally) preserves custom settings and open
files to make it easier to resume work after a break.</p>
<div class="section level3">
<h3 id="create-a-new-project">Create a new project<a class="anchor" aria-label="anchor" href="#create-a-new-project"></a>
</h3>
<ul>
<li>Under the <code>File</code> menu, click on <code>New project</code>,
choose <code>New directory</code>, then <code>New project</code>
</li>
<li>Enter a name for this new folder (or “directory”) and choose a
convenient location for it. This will be your <strong>working
directory</strong> for the rest of the day (e.g.,
<code>~/data-carpentry</code>)</li>
<li>Click on <code>Create project</code>
</li>
<li>Create a new file where we will type our scripts. Go to File &gt;
New File &gt; R script. Click the save icon on your toolbar and save
your script as “<code>script.R</code>”.</li>
</ul>
<p>The simplest way to open an RStudio project once it has been created
is to navigate through your files to where the project was saved and
double click on the <code>.Rproj</code> (blue cube) file. This will open
RStudio and start your R session in the <strong>same</strong> directory
as the <code>.Rproj</code> file. All your data, plots and scripts will
now be relative to the project directory. RStudio projects have the
added benefit of allowing you to open multiple projects at the same time
each open to its own project directory. This allows you to keep multiple
projects open without them interfering with each other.</p>
</div>
<div class="section level3">
<h3 id="organizing-your-working-directory">Organizing your working directory<a class="anchor" aria-label="anchor" href="#organizing-your-working-directory"></a>
</h3>
<p>Using a consistent folder structure across your projects will help
keep things organized and make it easy to find/file things in the
future. This can be especially helpful when you have multiple projects.
In general, you might create directories (folders) for
<strong>scripts</strong>, <strong>data</strong>, and
<strong>documents</strong>. Here are some examples of suggested
directories:</p>
<ul>
<li>
<strong><code>data/</code></strong> Use this folder to store your
raw data and intermediate datasets. For the sake of transparency and <a href="https://en.wikipedia.org/wiki/Provenance" class="external-link">provenance</a>, you
should <em>always</em> keep a copy of your raw data accessible and do as
much of your data cleanup and preprocessing programmatically (i.e., with
scripts, rather than manually) as possible.</li>
<li>
<strong><code>data_output/</code></strong> When you need to modify
your raw data, it might be useful to store the modified versions of the
datasets in a different folder.</li>
<li>
<strong><code>documents/</code></strong> Used for outlines, drafts,
and other text.</li>
<li>
<strong><code>fig_output/</code></strong> This folder can store the
graphics that are generated by your scripts.</li>
<li>
<strong><code>scripts/</code></strong> A place to keep your R
scripts for different analyses or plotting.</li>
</ul>
<p>You may want additional directories or subdirectories depending on
your project needs, but these should form the backbone of your working
directory.</p>
<figure><img src="fig/rstudio_project_files.jpeg" alt="Example of a working directory structure" class="figure mx-auto d-block"><div class="figcaption">Example of a working directory structure</div>
</figure><p>Not all projects needs the entire filestructure, but when analysing
data, we strongly recommend that you have at least the <code>data</code>
folder established as a place to store your original, raw, data.</p>
<div class="section level4">
<h4 id="the-working-directory">The working directory<a class="anchor" aria-label="anchor" href="#the-working-directory"></a>
</h4>
<p>The working directory is an important concept to understand. It is
the place where R will look for and save files. When you write code for
your project, your scripts should refer to files in relation to the root
of your working directory and only to files within this structure.</p>
<p>Using RStudio projects makes this easy and ensures that your working
directory is set up properly. If you need to check it, you can use
<code>getwd()</code>. If for some reason your working directory is not
the same as the location of your RStudio project, it is likely that you
opened an R script or RMarkdown file <strong>not</strong> your
<code>.Rproj</code> file. You should close out of RStudio and open the
<code>.Rproj</code> file by double clicking on the blue cube!</p>
</div>
</div>
</section><section><h2 class="section-heading" id="is-everything-up-to-date">Is everything up to date?<a class="anchor" aria-label="anchor" href="#is-everything-up-to-date"></a>
</h2>
<hr class="half-width">
<p>After setting up our project, it is time to make sure our libraries
are up to date.</p>
<p>Run the install.packages() functions on the libraries you are going
to use. In this case we are going to use the tidyverse packages, and the
readxl package to import data:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"tidyverse"</span><span class="op">)</span></span>
<span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"readxl"</span><span class="op">)</span></span></code></pre>
</div>
</section><section><h2 class="section-heading" id="getting-the-data">Getting the data<a class="anchor" aria-label="anchor" href="#getting-the-data"></a>
</h2>
<hr class="half-width">
<p>Getting the data can be the most time consuming part of any
dataanalysis.</p>
<p>In this workshop, we are going to analyse flight data. You should
already have downloaded the data. Move the file to the <code>data</code>
folder of your project.</p>
<p>If not, you will need to download the data, now:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">download.file</span><span class="op">(</span><span class="st">"https://raw.githubusercontent.com/KUBDatalab/R-EDA/main/episodes/data/flightdata.xlsx"</span>, </span>
<span>              <span class="st">"data/flightdata.xlsx"</span>, mode <span class="op">=</span> <span class="st">"wb"</span><span class="op">)</span></span></code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“A good project is an organized project”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-getting-to-know-data"><p>Content from <a href="getting-to-know-data.html">Getting to know the data</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/getting-to-know-data.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How do I import data?”</li>
<li>“How are the data distributed?”</li>
<li>“Are there correlations between variables?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Importing data”</li>
<li>“getting an overview of data”</li>
<li>“how to find metadata”</li>
<li>“using plots to explore our data”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="read-in-data-in-r">Read in data in R<a class="anchor" aria-label="anchor" href="#read-in-data-in-r"></a>
</h2>
<hr class="half-width">
<p>First we load <code>tidyverse</code> which make datamanipulation
easier. We also load a package to help us read Excel files:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">tidyverse</span><span class="op">)</span></span>
<span><span class="kw">library</span><span class="op">(</span><span class="va">readxl</span><span class="op">)</span></span></code></pre>
</div>
<p>Let us read in the excel spreadsheet we downloaded in preparation,
and saved in the data folder of our project:</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">&lt;-</span> <span class="fu">read_excel</span><span class="op">(</span><span class="st">"data/flightdata.xlsx"</span><span class="op">)</span></span></code></pre>
</div>
</section><div class="section level1">
<h1 id="taking-a-look-at-the-data">Taking a look at the data<a class="anchor" aria-label="anchor" href="#taking-a-look-at-the-data"></a>
</h1>
<p>Always begin by taking a look at your data!</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">head</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">view</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>This dataset is pretty big. It is actually so big, that a
<code>view()</code> of the entire dataset takes about 10 seconds to
render. And some of the other things we would like to do to it, takes
even longer.</p>
<p>Instead of waiting for that, it can be a good idea to work and
experiment with a smaller part of the dataset, and only use the entirety
of the data when we know what we want to do.</p>
<p>One way of doing that would be to use the function
<code>sample_frac</code> to return a random fraction of the dataset:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">0.005</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">view</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p>After taking a quick look at the data, it is time to get some
statistical insight.</p>
<p>The summary function returns summary statistics on our data:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">summary</span><span class="op">(</span><span class="va">flightdata</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>      year          month             day           dep_time    sched_dep_time
 Min.   :2013   Min.   : 1.000   Min.   : 1.00   Min.   :   1   Min.   : 106
 1st Qu.:2013   1st Qu.: 4.000   1st Qu.: 8.00   1st Qu.: 907   1st Qu.: 906
 Median :2013   Median : 7.000   Median :16.00   Median :1401   Median :1359
 Mean   :2013   Mean   : 6.549   Mean   :15.71   Mean   :1349   Mean   :1344
 3rd Qu.:2013   3rd Qu.:10.000   3rd Qu.:23.00   3rd Qu.:1744   3rd Qu.:1729
 Max.   :2013   Max.   :12.000   Max.   :31.00   Max.   :2400   Max.   :2359
                                                 NA's   :8255
   dep_delay          arr_time    sched_arr_time   arr_delay
 Min.   : -43.00   Min.   :   1   Min.   :   1   Min.   : -86.000
 1st Qu.:  -5.00   1st Qu.:1104   1st Qu.:1124   1st Qu.: -17.000
 Median :  -2.00   Median :1535   Median :1556   Median :  -5.000
 Mean   :  12.64   Mean   :1502   Mean   :1536   Mean   :   6.895
 3rd Qu.:  11.00   3rd Qu.:1940   3rd Qu.:1945   3rd Qu.:  14.000
 Max.   :1301.00   Max.   :2400   Max.   :2359   Max.   :1272.000
 NA's   :8255      NA's   :8713                  NA's   :9430
   carrier              flight       tailnum             origin
 Length:336776      Min.   :   1   Length:336776      Length:336776
 Class :character   1st Qu.: 553   Class :character   Class :character
 Mode  :character   Median :1496   Mode  :character   Mode  :character
                    Mean   :1972
                    3rd Qu.:3465
                    Max.   :8500

     dest              air_time        distance         hour
 Length:336776      Min.   : 20.0   Min.   :  17   Min.   : 1.00
 Class :character   1st Qu.: 82.0   1st Qu.: 502   1st Qu.: 9.00
 Mode  :character   Median :129.0   Median : 872   Median :13.00
                    Mean   :150.7   Mean   :1040   Mean   :13.18
                    3rd Qu.:192.0   3rd Qu.:1389   3rd Qu.:17.00
                    Max.   :695.0   Max.   :4983   Max.   :23.00
                    NA's   :9430
     minute        time_hour
 Min.   : 0.00   Min.   :2013-01-01 10:00:00
 1st Qu.: 8.00   1st Qu.:2013-04-04 17:00:00
 Median :29.00   Median :2013-07-03 14:00:00
 Mean   :26.23   Mean   :2013-07-03 09:22:54
 3rd Qu.:44.00   3rd Qu.:2013-10-01 11:00:00
 Max.   :59.00   Max.   :2014-01-01 04:00:00
                                              </code></pre>
</div>
<p>We get an overview of all the data (and the summary function have no
problems working with even very large datasets). From this we learn a
bit about the datatypes in the data, and something about the
distribution of the data.</p>
<div class="section level2">
<h2 id="metadata">Metadata<a class="anchor" aria-label="anchor" href="#metadata"></a>
</h2>
<p>Metadata is data about the data. Usually we are interested in the
provenance of the data. In this case it is data on all flights departing
New York City i 2013, from the three commercial airports, JFK, LGA and
EWR. The data was originally extracted from the US Bureau of
Transportation Statistics, and can be found at <a href="https://www.transtats.bts.gov/Homepage.asp" class="external-link uri">https://www.transtats.bts.gov/Homepage.asp</a></p>
<p>The columns of the dataset contains the following data:</p>
<ul>
<li>year, month, day Date of departure.</li>
<li>dep_time, arr_time Actual departure and arrival times (format HHMM
or HMM), local tz.</li>
<li>sched_dep_time, sched_arr_time Scheduled departure and arrival times
(format HHMM or HMM), local tz.</li>
<li>dep_delay, arr_delay Departure and arrival delays, in minutes.
Negative times represent early departures/arrivals.</li>
<li>carrier Two letter carrier abbreviation. See airlines to get
name.</li>
<li>flight Flight number.</li>
<li>tailnum Plane tail number. See planes for additional metadata.</li>
<li>origin, dest Origin and destination. See airports for additional
metadata.</li>
<li>air_time Amount of time spent in the air, in minutes.</li>
<li>distance Distance between airports, in miles.</li>
<li>hour, minute Time of scheduled departure broken into hour and
minutes.</li>
<li>time_hour Scheduled date and hour of the flight as a POSIXct date.
Along with origin, can be used to join flights data to weather
data.</li>
</ul>
<p>Always remember to save information about what is actually in your
data.</p>
</div>
<div class="section level2">
<h2 id="let-us-make-a-plot">Let us make a plot<a class="anchor" aria-label="anchor" href="#let-us-make-a-plot"></a>
</h2>
<p>What is the distribution of departure delays? Are there a lot of
flights that depart on time, and a few that are very delayed?</p>
<p>A histogram is a great way to get a first impression of a particular
variable in the dataset, so let us make one of those:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">dep_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_histogram</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`stat_bin()` using `bins = 30`. Pick better value `binwidth`.</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 8255 rows containing non-finite outside the scale range
(`stat_bin()`).</code></pre>
</div>
<p><img src="fig/getting-to-know-data-rendered-unnamed-chunk-7-1.png" style="display: block; margin: auto;" class="figure">
A histogram divides the numeric values of the departure delay into
“buckets” with a fixed width. It then counts the number of observations
in each bucket, and plot a column matching that count.</p>
<p>Note the warning! By default <code>ggplot</code> divides the
observations into 30 buckets. 30 buckets are almost never the right
number, so adjust it by adding eg <code>bins = 50</code> to
<code>geom_histogram()</code>.</p>
<div id="what-is-the-right-number-of-bins" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="what-is-the-right-number-of-bins" class="callout-inner">
<h3 class="callout-title">What is the right number of bins?</h3>
<div class="callout-content">
<p>The right number of bins is the number of bins that show what we want
to show about the data.</p>
</div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="let-us-make-another-plot">Let us make another plot!<a class="anchor" aria-label="anchor" href="#let-us-make-another-plot"></a>
</h2>
<p>After looking at the distrubtion of observations in the different
variables, we might want to explore correlations between them.</p>
<p>What, for example, is the connection between delays of departure
vs. arrival for these flights?</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">.005</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span> x <span class="op">=</span> <span class="va">dep_delay</span>, y <span class="op">=</span> <span class="va">arr_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><img src="fig/getting-to-know-data-rendered-unnamed-chunk-8-1.png" style="display: block; margin: auto;" class="figure">
We pipe the data to <code>sample_frac</code> in order to look at 0.5% of
the data. The result of that is piped to the <code>ggplot</code>
function, where we specify that the data should be <code>mapped</code>
to the plot, by placing the values of the delay of departure on the
X-axis, and the delay of arrival on the Y-axis.</p>
<p>That in itself is not very interesting, so we add something to the
plot: <code>+ geom_point()</code>, specifying that we would like the
data plotted as points.</p>
<p>This is an example of a case where it can be a good idea to work on a
smaller dataset. Plotting the entirety of the data takes about 40 times
longer than plotting 0.5% of the data.</p>
<p>When we explore data, we often want to look at correlations in the
data. If one variable falls, does another fall? Or rise?</p>
<p>Making these kinds of plots can help us identify interesting
correlations, but it is cumbersome to make a lot of them. So that can be
automated.</p>
<p>The build-in <code>plot</code> function in R will take a dataframe,
and plot each individual column against every other column.</p>
<p>To illustrate this we cut down the dataset some more, looking at an
even smaller subset of the rows, and eliminating some of the columns. To
get a better plot without a lot of warnings, we also remove missing
values from the dataset:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">na.omit</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">.0001</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">c</span><span class="op">(</span><span class="va">year</span>, <span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">tailnum</span>, <span class="va">hour</span>, <span class="va">minute</span>, <span class="va">time_hour</span>, <span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">plot</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<p><img src="fig/getting-to-know-data-rendered-unnamed-chunk-9-1.png" style="display: block; margin: auto;" class="figure">
This gives us a good first indication of how the different variables
varies together. The name of this type of plot is
<code>correllogram</code> because it shows all the correlations between
the selected variables.</p>
</div>
<div class="section level2">
<h2 id="bringing-distrubtion-and-correlation-together">Bringing distrubtion and correlation together<a class="anchor" aria-label="anchor" href="#bringing-distrubtion-and-correlation-together"></a>
</h2>
<p>A better, or perhaps just prettier, way of doing the above is to use
the library <code>GGally</code>, which have a fancier version, showing
both the distribution of values in the different columns, but also the
correlation between the variables.</p>
<p>Begin by installing <code>GGally</code>:</p>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"GGally"</span><span class="op">)</span></span></code></pre>
</div>
<p>Now we can plot:</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">GGally</span><span class="op">)</span></span>
<span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">.0001</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">select</span><span class="op">(</span><span class="op">-</span><span class="fu">c</span><span class="op">(</span><span class="va">year</span>, <span class="va">carrier</span>, <span class="va">flight</span>, <span class="va">tailnum</span>, <span class="va">hour</span>, <span class="va">minute</span>, <span class="va">time_hour</span>, <span class="va">origin</span>, <span class="va">dest</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">na.omit</span><span class="op">(</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggpairs</span><span class="op">(</span>progress <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span></code></pre>
</div>
<figure><img src="fig/getting-to-know-data-rendered-unnamed-chunk-11-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>We need to cut down the number of observations again - the
scatterplots would be unreadable otherwise. The classical corellogram is
enriched with a densityplot in the diagonal, basically a very smooth
histogram, and the correlation coefficients above the diagonal.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“Always start by looking at the data”</li>
<li>“Always keep track of the metadata”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</div></section><section id="aio-summary-statistics"><p>Content from <a href="summary-statistics.html">Exploring with summary statistics</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/summary-statistics.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How do I get means, medians, IQRs and other summary statistics on
my data?”</li>
<li>“How do I get summary statistics for different groups in my
data?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Learn the summarise and group_by functions for efficient summary
statistics.”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="summary-statistics">Summary statistics<a class="anchor" aria-label="anchor" href="#summary-statistics"></a>
</h2>
<hr class="half-width">
<p>What is the average delay on the departure of these flights?</p>
<p>Most of the functions we use for these operations comes from the
library dplyr, which is part of the tidyverse package.</p>
<p>The function to get summary statistics (average/mean, median,
standard deviation etc) from dataframes is <code>summarise</code>. It
works like this, remember to add <code>na.rm = T</code> to handle
missing values:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_dep_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            med_dep_delay <span class="op">=</span> <span class="fu">median</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            sd_dep_delay <span class="op">=</span> <span class="fu">sd</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            max_dep_delay <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            min_dep_delay <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm  <span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>            iqr <span class="op">=</span> <span class="fu">IQR</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 × 6
  avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay min_dep_delay   iqr
          &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;
1          12.6            -2         40.2          1301           -43    16</code></pre>
</div>
<div id="iqr" class="callout">
<div class="callout-square">
<i class="callout-icon" data-feather="bell"></i>
</div>
<span class="callout-header">Callout</span>
<div id="iqr" class="callout-inner">
<h3 class="callout-title">IQR</h3>
<div class="callout-content">
<p>Lining up all values of departure delay in order from the lowest to
the highest, we can split up the observations in quartiles, each
containing 25% of the observations. The Inter Quartile Range, tells us
the range in which the middle 50% of the observations are. It is a
measure of the spread of the observations around the median.</p>
</div>
</div>
</div>
</section><section><h2 class="section-heading" id="which-airline-is-most-delayed">Which airline is most delayed?<a class="anchor" aria-label="anchor" href="#which-airline-is-most-delayed"></a>
</h2>
<hr class="half-width">
<p>Adding <code>group_by()</code> we can get the summary statistics for
all airlines:</p>
<div class="codewrapper sourceCode" id="cb3">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_dep_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            med_dep_delay <span class="op">=</span> <span class="fu">median</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            sd_dep_delay <span class="op">=</span> <span class="fu">sd</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            max_dep_delay <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            min_dep_delay <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm  <span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>            iqr <span class="op">=</span> <span class="fu">IQR</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 7
   carrier avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay min_dep_delay
   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
 1 9E              16.7           -2           45.9           747           -24
 2 AA               8.59          -3           37.4          1014           -24
 3 AS               5.80          -3           31.4           225           -21
 4 B6              13.0           -1           38.5           502           -43
 5 DL               9.26          -2           39.7           960           -33
 6 EV              20.0           -1           46.6           548           -32
 7 F9              20.2            0.5         58.4           853           -27
 8 FL              18.7            1           52.7           602           -22
 9 HA               4.90          -4           74.1          1301           -16
10 MQ              10.6           -3           39.2          1137           -26
11 OO              12.6           -6           43.1           154           -14
12 UA              12.1            0           35.7           483           -20
13 US               3.78          -4           28.1           500           -19
14 VX              12.9            0           44.8           653           -20
15 WN              17.7            1           43.3           471           -13
16 YV              19.0           -2           49.2           387           -16
# ℹ 1 more variable: iqr &lt;dbl&gt;</code></pre>
</div>
<p>A second step would be to sort the carriers by the average departure
delay. The <code>arrange()</code> function does this:</p>
<div class="codewrapper sourceCode" id="cb5">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_dep_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            med_dep_delay <span class="op">=</span> <span class="fu">median</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            sd_dep_delay <span class="op">=</span> <span class="fu">sd</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            max_dep_delay <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            min_dep_delay <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm  <span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>            iqr <span class="op">=</span> <span class="fu">IQR</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="va">avg_dep_delay</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 7
   carrier avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay min_dep_delay
   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
 1 US               3.78          -4           28.1           500           -19
 2 HA               4.90          -4           74.1          1301           -16
 3 AS               5.80          -3           31.4           225           -21
 4 AA               8.59          -3           37.4          1014           -24
 5 DL               9.26          -2           39.7           960           -33
 6 MQ              10.6           -3           39.2          1137           -26
 7 UA              12.1            0           35.7           483           -20
 8 OO              12.6           -6           43.1           154           -14
 9 VX              12.9            0           44.8           653           -20
10 B6              13.0           -1           38.5           502           -43
11 9E              16.7           -2           45.9           747           -24
12 WN              17.7            1           43.3           471           -13
13 FL              18.7            1           52.7           602           -22
14 YV              19.0           -2           49.2           387           -16
15 EV              20.0           -1           46.6           548           -32
16 F9              20.2            0.5         58.4           853           -27
# ℹ 1 more variable: iqr &lt;dbl&gt;</code></pre>
</div>
<p>The carrier “US” does best. What carrier is that actually?</p>
<p>Before doing that, let us save the result in an object:</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_delays</span> <span class="op">&lt;-</span> <span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">group_by</span><span class="op">(</span><span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">summarise</span><span class="op">(</span>avg_dep_delay <span class="op">=</span> <span class="fu">mean</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            med_dep_delay <span class="op">=</span> <span class="fu">median</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            sd_dep_delay <span class="op">=</span> <span class="fu">sd</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            max_dep_delay <span class="op">=</span> <span class="fu">max</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span>,</span>
<span>            min_dep_delay <span class="op">=</span> <span class="fu">min</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm  <span class="op">=</span><span class="cn">T</span><span class="op">)</span>,</span>
<span>            iqr <span class="op">=</span> <span class="fu">IQR</span><span class="op">(</span><span class="va">dep_delay</span>, na.rm <span class="op">=</span> <span class="cn">T</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">arrange</span><span class="op">(</span><span class="va">avg_dep_delay</span><span class="op">)</span></span></code></pre>
</div>
<p>Next up - how to figure out the name of the carrier “US”.</p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“Summary statistics tells us about the distribution of data”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-joins"><p>Content from <a href="joins.html">Joining data</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/joins.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How do I import data from other sheets in a spreadsheet?”</li>
<li>“How do I enrich tables with additional data?”</li>
<li>“What is a join?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Learn how to import data from sheet number 2 (and 3 etc) in
spreadsheets”</li>
<li>“Learn how to join data frames”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="what-is-the-actual-name-of-the-best-airline">What is the actual name of the best airline?<a class="anchor" aria-label="anchor" href="#what-is-the-actual-name-of-the-best-airline"></a>
</h2>
<hr class="half-width">
<p>It is nice to be able to identify the airline that is most on time.
But we have carrier codes, not the actual names of them.</p>
<p>How do we get that?</p>
<div class="section level3">
<h3 id="reading-another-sheet-in-a-spreadsheet">Reading another sheet in a spreadsheet<a class="anchor" aria-label="anchor" href="#reading-another-sheet-in-a-spreadsheet"></a>
</h3>
<p>Our spreadsheet contains more that one sheet. The second sheet
contains the names and carrier codes of the relevant airlines.</p>
<p>We can read sheet number 2 from the Excelfile, by giving
<code>read_excel()</code> a second argument, specifying the sheet we
want:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">carriers</span> <span class="op">&lt;-</span> <span class="fu">read_excel</span><span class="op">(</span><span class="st">"data/flightdata.xlsx"</span>, sheet <span class="op">=</span> <span class="fl">2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">carriers</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 2
   carrier name
   &lt;chr&gt;   &lt;chr&gt;
 1 9E      Endeavor Air Inc.
 2 AA      American Airlines Inc.
 3 AS      Alaska Airlines Inc.
 4 B6      JetBlue Airways
 5 DL      Delta Air Lines Inc.
 6 EV      ExpressJet Airlines Inc.
 7 F9      Frontier Airlines Inc.
 8 FL      AirTran Airways Corporation
 9 HA      Hawaiian Airlines Inc.
10 MQ      Envoy Air
11 OO      SkyWest Airlines Inc.
12 UA      United Air Lines Inc.
13 US      US Airways Inc.
14 VX      Virgin America
15 WN      Southwest Airlines Co.
16 YV      Mesa Airlines Inc.         </code></pre>
</div>
<p>We now have a second data frame, containing the names of the
carriers. And we have a data frame containing the average delays</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_delays</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 7
   carrier avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay min_dep_delay
   &lt;chr&gt;           &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;         &lt;dbl&gt;
 1 US               3.78          -4           28.1           500           -19
 2 HA               4.90          -4           74.1          1301           -16
 3 AS               5.80          -3           31.4           225           -21
 4 AA               8.59          -3           37.4          1014           -24
 5 DL               9.26          -2           39.7           960           -33
 6 MQ              10.6           -3           39.2          1137           -26
 7 UA              12.1            0           35.7           483           -20
 8 OO              12.6           -6           43.1           154           -14
 9 VX              12.9            0           44.8           653           -20
10 B6              13.0           -1           38.5           502           -43
11 9E              16.7           -2           45.9           747           -24
12 WN              17.7            1           43.3           471           -13
13 FL              18.7            1           52.7           602           -22
14 YV              19.0           -2           49.2           387           -16
15 EV              20.0           -1           46.6           548           -32
16 F9              20.2            0.5         58.4           853           -27
# ℹ 1 more variable: iqr &lt;dbl&gt;</code></pre>
</div>
<p>what we would like is something like this:</p>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 8
   carrier name           avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay
   &lt;chr&gt;   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
 1 US      US Airways In…          3.78          -4           28.1           500
 2 HA      Hawaiian Airl…          4.90          -4           74.1          1301
 3 AS      Alaska Airlin…          5.80          -3           31.4           225
 4 AA      American Airl…          8.59          -3           37.4          1014
 5 DL      Delta Air Lin…          9.26          -2           39.7           960
 6 MQ      Envoy Air              10.6           -3           39.2          1137
 7 UA      United Air Li…         12.1            0           35.7           483
 8 OO      SkyWest Airli…         12.6           -6           43.1           154
 9 VX      Virgin America         12.9            0           44.8           653
10 B6      JetBlue Airwa…         13.0           -1           38.5           502
11 9E      Endeavor Air …         16.7           -2           45.9           747
12 WN      Southwest Air…         17.7            1           43.3           471
13 FL      AirTran Airwa…         18.7            1           52.7           602
14 YV      Mesa Airlines…         19.0           -2           49.2           387
15 EV      ExpressJet Ai…         20.0           -1           46.6           548
16 F9      Frontier Airl…         20.2            0.5         58.4           853
# ℹ 2 more variables: min_dep_delay &lt;dbl&gt;, iqr &lt;dbl&gt;</code></pre>
</div>
<p>What we want to do is joining the two dataframes, so we enrich the
original dataframe containing summary statistics on departure delays,
with the name matching the carrier code.</p>
<p>Several different types of joins exist. The one we need here is
<code>left_join()</code></p>
<p><img src="fig/left-join.gif" alt="left_join returns all rows in the left dataframe, enriched with data from the rigth" class="figure">.</p>
<p>With a <code>left_join()</code> we join the two dataframes. All rows
in the left dataframe are returned, enriched with the matching values
from the columns in the right dataframe. Rows in the left dataframe,
that does not have a matching row in the right dataframe will get
NA-values.</p>
<p>Let us do that!</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_delays</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">relocate</span><span class="op">(</span><span class="va">name</span>, .after <span class="op">=</span> <span class="va">carrier</span><span class="op">)</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 16 × 8
   carrier name           avg_dep_delay med_dep_delay sd_dep_delay max_dep_delay
   &lt;chr&gt;   &lt;chr&gt;                  &lt;dbl&gt;         &lt;dbl&gt;        &lt;dbl&gt;         &lt;dbl&gt;
 1 US      US Airways In…          3.78          -4           28.1           500
 2 HA      Hawaiian Airl…          4.90          -4           74.1          1301
 3 AS      Alaska Airlin…          5.80          -3           31.4           225
 4 AA      American Airl…          8.59          -3           37.4          1014
 5 DL      Delta Air Lin…          9.26          -2           39.7           960
 6 MQ      Envoy Air              10.6           -3           39.2          1137
 7 UA      United Air Li…         12.1            0           35.7           483
 8 OO      SkyWest Airli…         12.6           -6           43.1           154
 9 VX      Virgin America         12.9            0           44.8           653
10 B6      JetBlue Airwa…         13.0           -1           38.5           502
11 9E      Endeavor Air …         16.7           -2           45.9           747
12 WN      Southwest Air…         17.7            1           43.3           471
13 FL      AirTran Airwa…         18.7            1           52.7           602
14 YV      Mesa Airlines…         19.0           -2           49.2           387
15 EV      ExpressJet Ai…         20.0           -1           46.6           548
16 F9      Frontier Airl…         20.2            0.5         58.4           853
# ℹ 2 more variables: min_dep_delay &lt;dbl&gt;, iqr &lt;dbl&gt;</code></pre>
</div>
<p>The relocate function is used to change the order of the columns.</p>
</div>
</section><section><h2 class="section-heading" id="there-are-other-join-functions">There are other join functions<a class="anchor" aria-label="anchor" href="#there-are-other-join-functions"></a>
</h2>
<hr class="half-width">
<p><code>left_join</code> is an example of a mutating join. Like the
<code>mutate</code> function left_join introduces new variables, new
columns, in our dataframe.</p>
<div class="section level3">
<h3 id="mutating-joins">Mutating joins<a class="anchor" aria-label="anchor" href="#mutating-joins"></a>
</h3>
<p>The closes cousin of the <code>left_join</code> funtion is the
<code>right_join</code>.</p>
<p>The left_join returns all rows on the left hand side of the join,
augmented with values from the dataframe on the right hand side of the
join, based on matching values.</p>
<p>The right_join function returns all rows on the right hand side of
the join. Depending on the flow of our code, we choose the variant that
best suit our purpose.</p>
<p><code>inner_join</code> keeps only the rows on the left hand side of
the join, that have matching values in the dataframe on the right hand
side of the join. Whereas <code>left_join</code> and
<code>right_join</code> keeps all rows, and add NA values where there is
no match, <code>inner_join</code> only returns rows that have a
match.</p>
<p><code>full_join</code> on the other hand keeps all rows from both
dataframes being joined. Any observations that does not have a match in
the other dataframe, will have NA values added.</p>
</div>
<div class="section level3">
<h3 id="filtering-joins">Filtering joins<a class="anchor" aria-label="anchor" href="#filtering-joins"></a>
</h3>
<p>These joins will filter rows from the left hand dataframe, based on
the presence or absence of matches in the right hand dataframe.</p>
<p><code>semi_join</code> returns all rows that have a match on the
right hand side of the join. But not those that do not have a match.</p>
<p><code>anti_join</code> returns all rows, that <em>do not</em> have a
match on the rigth hand side of the join.</p>
</div>
</section><section><h2 class="section-heading" id="can-we-plot-the-average-delays-with-carrier-names">Can we plot the average delays with carrier names?<a class="anchor" aria-label="anchor" href="#can-we-plot-the-average-delays-with-carrier-names"></a>
</h2>
<hr class="half-width">
<p>Yes we can!</p>
<p>We take the summary_delays dataframe, containing the average delays,
and join it with the data on carrier names. We do not have to specify
the column on which we are joining, since there is only one shared
column name. We then pipe that result to ggplot, where we specify that
we would like the delay to be on the x-axis, and the name of the carrier
on the y-axis:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">summary_delays</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">avg_dep_delay</span>, y <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>    <span class="fu">geom_col</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`</code></pre>
</div>
<figure><img src="fig/joins-rendered-unnamed-chunk-7-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“Data is often organized in separate tables, joining them can enrich
the data we are analysing”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-boxplots"><p>Content from <a href="boxplots.html">Boxplots and linear regressions</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/boxplots.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“How do I make a Boxplot?”</li>
<li>“How do I make a linear regression?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Learn how to visualise the distribution of your data using
boxplots”</li>
<li>“Learn how to investigate correlations between variables using
linear regressions”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<section><h2 class="section-heading" id="boxplots">Boxplots<a class="anchor" aria-label="anchor" href="#boxplots"></a>
</h2>
<hr class="half-width">
<p>Boxplots are a common way of quickly visualizing some summary
statistics for different groups in our data.</p>
<p>For this example, we use air_time, the time the flight takes, instead
of departure delays.</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">name</span>, .after <span class="op">=</span> <span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">name</span>, y <span class="op">=</span> <span class="va">air_time</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">geom_boxplot</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu">coord_flip</span><span class="op">(</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 9430 rows containing non-finite outside the scale range
(`stat_boxplot()`).</code></pre>
</div>
<figure><img src="fig/boxplots-rendered-unnamed-chunk-2-1.png" style="display: block; margin: auto;" class="figure mx-auto d-block"></figure><p>The boxplots show the inter quartile range with the white box. The
solid black line within that, is the median of the air_time. The
horizontal lines, called whiskers, on each side of the white box shows
the “minimum” and “maximum” observations, defined as the observations
that lies no longer from the IQR than 1.5 of the IQR.</p>
<p>The solid dots at each end of the boxplot, represents outliers,
observations that lies outside the whiskers.</p>
<p>Depending on the data, and the nature of the analyses we are going to
do, outliers are either very interesting, or something that we can
ignore.</p>
<p>In this case it might be interesting to investigate which
destinations Hawaiian Airlines serve. Their fligts are much longer than
the flights of the rest of the airlines.</p>
<p>Let us take a look:</p>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">name</span>, .after <span class="op">=</span> <span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">name</span> <span class="op">==</span> <span class="st">"Hawaiian Airlines Inc."</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">dest</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 1 × 2
  dest      n
  &lt;chr&gt; &lt;int&gt;
1 HNL     342</code></pre>
</div>
<p>The <code>count()</code> function counts the number of times a value
exists in a given column, in this case <code>dest</code>.</p>
<p>Conclusion: Hawaiian Airlines only flies to Honolulu.</p>
<p>Which airlines flies to Honolulu?</p>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">name</span>, .after <span class="op">=</span> <span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">filter</span><span class="op">(</span><span class="va">dest</span> <span class="op">==</span> <span class="st">"HNL"</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">count</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code># A tibble: 2 × 2
  name                       n
  &lt;chr&gt;                  &lt;int&gt;
1 Hawaiian Airlines Inc.   342
2 United Air Lines Inc.    365</code></pre>
</div>
<p>Here we filter in order to only have flights to Honolulu, and then
count the different airlines. Only United Air Lines and Hawaiian
Airlines have fligths to Honolulu.</p>
<p>This also reveals, that the “outliers” for United Air Lines at the
extreme right of the plot are not really outliers. They appear because
these are the flights to Honolulu. The representation of the data
implies that there are a lot of outliers from one single distribution of
airtime for United Air Lines. But in reality, the airtime for UA is a
bimodal distribution.</p>
</section><section><h2 class="section-heading" id="boxplots-are-not-necessarily-a-good-idea">Boxplots are not necessarily a good idea<a class="anchor" aria-label="anchor" href="#boxplots-are-not-necessarily-a-good-idea"></a>
</h2>
<hr class="half-width">
<p>The boxplots of the air_time indicates that there is more structure
in the data than boxplots can reveal. Maybe we should look at the
distribution of airtime amongst the airlines.</p>
<p>We could plot histograms of the airtime for each airline. Or we could
plot the smoothed histograms we saw in the correllograms for each
airline. Or we can use an extra package, <code>ggridges</code> to do
something fancy.</p>
<p>Begin by installing the package:</p>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">install.packages</span><span class="op">(</span><span class="st">"ggridges"</span><span class="op">)</span></span></code></pre>
</div>
<p>Then load the package, and plot the data:</p>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">library</span><span class="op">(</span><span class="va">ggridges</span><span class="op">)</span></span>
<span></span>
<span><span class="va">flightdata</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">left_join</span><span class="op">(</span><span class="va">carriers</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="fu">relocate</span><span class="op">(</span><span class="va">name</span>, .after <span class="op">=</span> <span class="va">carrier</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span><span class="fu">ggplot</span><span class="op">(</span><span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">air_time</span>, y <span class="op">=</span> <span class="va">name</span>, fill <span class="op">=</span> <span class="va">name</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_density_ridges</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">theme</span><span class="op">(</span>legend.position <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>Joining with `by = join_by(carrier)`
Picking joint bandwidth of 5.42</code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 9430 rows containing non-finite outside the scale range
(`stat_density_ridges()`).</code></pre>
</div>
<p><img src="fig/boxplots-rendered-unnamed-chunk-6-1.png" style="display: block; margin: auto;" class="figure">
The number of flights United Air Lines have to Hawaii is too low to
actually see here. But we do get a more nuanced view of the distribution
of airtime for the individual airlines than we do using boxplots.</p>
</section><section><h2 class="section-heading" id="what-about-a-linear-regression">What about a linear regression?<a class="anchor" aria-label="anchor" href="#what-about-a-linear-regression"></a>
</h2>
<hr class="half-width">
<p>We saw earlier, that there was a correlation between departure delay
and arrival delay. Can we use the data to predict how delayed we will be
upon arrival, when we know that the departure was 47 minutes
delayed.</p>
<p>First, the plot:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">0.005</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">dep_delay</span>, y <span class="op">=</span> <span class="va">arr_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> </span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">WARNING<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="warning" tabindex="0"><code>Warning: Removed 40 rows containing missing values or values outside the scale range
(`geom_point()`).</code></pre>
</div>
<p><img src="fig/boxplots-rendered-unnamed-chunk-7-1.png" style="display: block; margin: auto;" class="figure">
This looks more or less linear. We can place a linear regression line in
the plot using the function <code>geom_smooth(method = "lm")</code>,
where we specify that the function should fit a linear line to the
data.</p>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">flightdata</span> <span class="op">%&gt;%</span></span>
<span>  <span class="fu">sample_frac</span><span class="op">(</span><span class="fl">0.005</span><span class="op">)</span> <span class="op">%&gt;%</span> </span>
<span>  <span class="fu">ggplot</span><span class="op">(</span>mapping <span class="op">=</span> <span class="fu">aes</span><span class="op">(</span>x <span class="op">=</span> <span class="va">dep_delay</span>, y <span class="op">=</span> <span class="va">arr_delay</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_point</span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu">geom_smooth</span><span class="op">(</span>method <span class="op">=</span> <span class="st">"lm"</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>`geom_smooth()` using formula = 'y ~ x'</code></pre>
</div>
<p><img src="fig/boxplots-rendered-unnamed-chunk-8-1.png" style="display: block; margin: auto;" class="figure">
So, what is the actual linear model of this data?</p>
<p>A linear model in this case would be a formula on the form:</p>
<p><span class="math inline">\(arr_{delay} = a\cdot dep_{delay} +
b\)</span></p>
<p>The task is now to find the values of <code>a</code> and
<code>b</code> that best fit the data. This is called “fitting a linear
model”.</p>
<p>Fitting a linear model to data is done using the <code>lm()</code>
function.</p>
<p>We need to specify the actual model that we want to fit, using the
special formula notation in R:</p>
<p>arr_delay ~ dep_delay</p>
<p>In addition we have to specify the input data in the function:</p>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu">lm</span><span class="op">(</span><span class="va">arr_delay</span> <span class="op">~</span> <span class="va">dep_delay</span>, data <span class="op">=</span> <span class="va">flightdata</span><span class="op">)</span></span></code></pre>
</div>
<p>We do this on the entire dataset without any problems.</p>
<p>Let us take a look at the result:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Call:
lm(formula = arr_delay ~ dep_delay, data = flightdata)

Coefficients:
(Intercept)    dep_delay
     -5.899        1.019  </code></pre>
</div>
<p>We will not spend time on a complete discussion on p-values, but the
way to get them is to call the function <code>summary()</code> on the
model:</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">summary</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Call:
lm(formula = arr_delay ~ dep_delay, data = flightdata)

Residuals:
     Min       1Q   Median       3Q      Max
-107.587  -11.005   -1.883    8.938  201.938

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)
(Intercept) -5.8994935  0.0330195  -178.7   &lt;2e-16 ***
dep_delay    1.0190929  0.0007864  1295.8   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 18.03 on 327344 degrees of freedom
  (9430 observations deleted due to missingness)
Multiple R-squared:  0.8369,	Adjusted R-squared:  0.8369
F-statistic: 1.679e+06 on 1 and 327344 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Linear regressions are used to find connections between data. We
might be building a model, where we try to figure out what causes delays
in this data. Or find the correlation between taking a specific drug and
recovering from a disease.</p>
<div id="correlation-does-not-imply-causation" class="callout caution">
<div class="callout-square">
<i class="callout-icon" data-feather="alert-triangle"></i>
</div>
<span class="callout-header">Caution</span>
<div id="correlation-does-not-imply-causation" class="callout-inner">
<h3 class="callout-title">Correlation does not imply causation!</h3>
<div class="callout-content">
<p>Even if you find a strong correlation between two variables in your
data, you have not necessarily found an explanation. There is a very
strong correlation between how much it rains in Hillsborough County in
Florida, USA, and how much money The United Kingdom spends on its
military. That does not imply that spending more money on guns in the UK
will make it rain more in Florida.</p>
</div>
</div>
</div>
<p>The lm() function can handle more than one explanatory variable.</p>
<p>Simple linear combinations of them are specified using a
<code>+</code> in the formula, like this:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_2</span> <span class="op">&lt;-</span> <span class="fu">lm</span><span class="op">(</span><span class="va">arr_delay</span> <span class="op">~</span> <span class="va">dep_delay</span> <span class="op">+</span> <span class="va">air_time</span>, data <span class="op">=</span> <span class="va">flightdata</span><span class="op">)</span></span>
<span><span class="fu">summary</span><span class="op">(</span><span class="va">model_2</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Call:
lm(formula = arr_delay ~ dep_delay + air_time, data = flightdata)

Residuals:
     Min       1Q   Median       3Q      Max
-107.679  -10.979   -1.759    8.810  203.240

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)
(Intercept) -4.8318053  0.0606415  -79.68   &lt;2e-16 ***
dep_delay    1.0187233  0.0007861 1295.92   &lt;2e-16 ***
air_time    -0.0070547  0.0003362  -20.98   &lt;2e-16 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 18.02 on 327343 degrees of freedom
  (9430 observations deleted due to missingness)
Multiple R-squared:  0.8371,	Adjusted R-squared:  0.8371
F-statistic: 8.41e+05 on 2 and 327343 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<p>Interactions between explanatory variables are specied using a
<code>*</code> sign:</p>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">R<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_3</span> <span class="op">&lt;-</span> <span class="fu">lm</span><span class="op">(</span><span class="va">arr_delay</span> <span class="op">~</span> <span class="va">dep_delay</span><span class="op">*</span><span class="va">air_time</span>, data <span class="op">=</span> <span class="va">flightdata</span><span class="op">)</span></span>
<span><span class="fu">summary</span><span class="op">(</span><span class="va">model_3</span><span class="op">)</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>
Call:
lm(formula = arr_delay ~ dep_delay * air_time, data = flightdata)

Residuals:
     Min       1Q   Median       3Q      Max
-107.475  -10.963   -1.784    8.809  203.376

Coefficients:
                     Estimate Std. Error t value Pr(&gt;|t|)
(Intercept)        -4.739e+00  6.236e-02 -75.998  &lt; 2e-16 ***
dep_delay           1.011e+00  1.459e-03 692.785  &lt; 2e-16 ***
air_time           -7.672e-03  3.499e-04 -21.923  &lt; 2e-16 ***
dep_delay:air_time  5.451e-05  8.590e-06   6.346 2.22e-10 ***
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 18.01 on 327342 degrees of freedom
  (9430 observations deleted due to missingness)
Multiple R-squared:  0.8371,	Adjusted R-squared:  0.8371
F-statistic: 5.607e+05 on 3 and 327342 DF,  p-value: &lt; 2.2e-16</code></pre>
</div>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“Boxplots are useful for comparing distributions”</li>
<li>“Boxplots can hide multiple distributions in a variable”</li>
<li>“Density plots can reveal multiple distributions in variables”</li>
<li>“Correlations between variables can be quantified using linear
models”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</section></section><section id="aio-whats-next"><p>Content from <a href="whats-next.html">What is the next step?</a></p>
<hr>
<p>Last updated on 2025-09-29 |

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/episodes/whats-next.Rmd" class="external-link">Edit this page <i aria-hidden="true" data-feather="edit"></i></a></p>
<div class="text-end">
          <button role="button" aria-pressed="false" tabindex="0" id="expand-code" class="pull-right" data-expand="Expand All Solutions " data-collapse="Collapse All Solutions "> Expand All Solutions <i aria-hidden="true" data-feather="plus"></i></button>
        </div>
<div class="overview card">
<h2 class="card-header">Overview</h2>
<div class="row g-0">
<div class="col-md-4">
<div class="card-body">
<div class="inner">
<h3 class="card-title">Questions</h3>
<ul>
<li>“What do I do now?”</li>
<li>“What is the next step?”</li>
</ul>
</div>
</div>
</div>
<div class="col-md-8">
<div class="card-body">
<div class="inner bordered">
<h3 class="card-title">Objectives</h3>
<ul>
<li>“Present suggestions for further reading,”</li>
<li>“Tips on problems to work on to practice,”</li>
</ul>
</div>
</div>
</div>
</div>
</div>
<div class="section level1">
<h1 id="what-should-i-do-next">What should I do next?<a class="anchor" aria-label="anchor" href="#what-should-i-do-next"></a>
</h1>
<div class="section level2">
<h2 id="great-data">Great data<a class="anchor" aria-label="anchor" href="#great-data"></a>
</h2>
<p>First of all: If you do not have data you want to work with already.
Find some!</p>
<p><a href="https://www.kaggle.com/datasets" class="external-link">Kaggle</a> host
competitions in machine learning. For the use of those competitions,
they give access to a lot of interesting datasets to work with. With
more than 200.000 datasets at time of writing, it can be a bit
overwhelming, so consider looking at the “<a href="https://www.kaggle.com/datasets?fileType=csv" class="external-link">datasets</a>”
available as CSV-files.</p>
</div>
<div class="section level2">
<h2 id="great-books">Great books<a class="anchor" aria-label="anchor" href="#great-books"></a>
</h2>
<p>Many exists, some are available online, some are even free!</p>
<p>Our favorite is <a href="https://r4ds.had.co.nz/index.html" class="external-link">R for
Data Science</a> by Hadley Wickham and Garrett Grolemund. The <a href="2nd%20edition">https://r4ds.hadley.nz/</a> is coming soon. Both
editions have a chapter on Exploratory Data Analysis.</p>
</div>
<div class="section level2">
<h2 id="great-sites">Great sites<a class="anchor" aria-label="anchor" href="#great-sites"></a>
</h2>
<p>Most of the larger sites offering online courses in
“something-with-data” offers courses that can support your learning in
regards to exploratory data analysis:</p>
<p><a href="https://www.edx.org/search?q=r" class="external-link">edx</a></p>
<p><a href="https://www.codecademy.com/catalog/language/r" class="external-link">codecademy</a></p>
</div>
<div class="section level2">
<h2 id="contact-us">Contact us!<a class="anchor" aria-label="anchor" href="#contact-us"></a>
</h2>
<p>The whole reason for the existence of KUB Datalab is to help and
assist students (and teachers and researchers) working with data.</p>
<p>We do not guarantee that we will be able to solve your problems, but
we will do our best to help you.</p>
<p>Our <a href="https://kubkalender.kb.dk/calendar/datalab?cid=6416&amp;t=d&amp;d=0000-00-00&amp;cal=6416&amp;inc=0" class="external-link">calender</a>,
containing our activities, courses, seminars, datasprints etc.</p>
<p>Our <a href="https://kub.kb.dk/datalab" class="external-link">website</a></p>
<p>Our mail: <a href="mailto:kubdatalab@kb.dk" class="email">kubdatalab@kb.dk</a></p>
<div id="keypoints1" class="callout keypoints">
<div class="callout-square">
<i class="callout-icon" data-feather="key"></i>
</div>
<span class="callout-header">Key Points</span>
<div class="callout-inner">
<div class="callout-content">
<ul>
<li>“Practice is important!”</li>
<li>“Working on data that YOU find interesting is a really good
idea,”</li>
<li>“The amount of ressources online is immense.”</li>
<li>“KUB Datalab is there for your.”</li>
</ul>
</div>
</div>
</div>
<!--
Place links that you need to refer to multiple times across pages here. Delete
any links that you are not going to use.
 -->
</div>
</div></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>

        <a href="https://github.com/KUBDatalab/R-EDA_new/edit/main/README.md" class="external-link">Edit on GitHub</a>

	
        | <a href="https://github.com/KUBDatalab/R-EDA_new/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/KUBDatalab/R-EDA_new/" class="external-link">Source</a></p>
				<p><a href="https://github.com/KUBDatalab/R-EDA_new/blob/main/CITATION.cff" class="external-link">Cite</a> | <a href="mailto:kubdatalab@kb.dk">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">

        <p>Materials licensed under <a href="LICENSE.html">CC BY-NC-SA 4.0</a> by the authors</p>

        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.17.1" class="external-link">sandpaper (0.17.1)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.9" class="external-link">pegboard (0.7.9)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.7" class="external-link">varnish (1.0.7)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "LearningResource",
  "@id": "https://KUBDatalab.github.io/R-EDA_new/aio.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/LearningResource/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "All in One View",
  "creativeWorkStatus": "active",
  "url": "https://KUBDatalab.github.io/R-EDA_new/aio.html",
  "identifier": "https://KUBDatalab.github.io/R-EDA_new/aio.html",
  "dateCreated": "2024-07-31",
  "dateModified": "2025-09-29",
  "datePublished": "2025-09-29"
}

  </script><script>
		feather.replace();
	</script>
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

